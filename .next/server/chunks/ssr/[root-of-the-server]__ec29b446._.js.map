{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/usra/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee/schemas/task.schema.ts"],"sourcesContent":["import { z } from 'zod'\n\nexport const TaskSchema = z.object({\n  id: z.string(),\n  title: z.string().min(1, 'Le titre est requis'),\n  completed: z.boolean(),\n})\n\nexport type Task = z.infer<typeof TaskSchema>\nexport const TasksArraySchema = z.array(TaskSchema)\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAEO,MAAM,aAAa,iLAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjC,IAAI,iLAAA,CAAA,IAAC,CAAC,MAAM;IACZ,OAAO,iLAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACzB,WAAW,iLAAA,CAAA,IAAC,CAAC,OAAO;AACtB;AAGO,MAAM,mBAAmB,iLAAA,CAAA,IAAC,CAAC,KAAK,CAAC","debugId":null}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///home/usra/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee/hooks/useTasksData.ts"],"sourcesContent":["import { useQuery, UseQueryResult } from '@tanstack/react-query'\nimport axios from 'axios'\nimport { Task, TasksArraySchema } from '../schemas/task.schema'\n\nconst fetchTasks = async (): Promise<Task[]> => {\n  const response = await axios.get('http://localhost:4000/tasks')\n  const validated = TasksArraySchema.parse(response.data)\n  return validated\n}\n\nexport const useTasksData = (\n  onSuccess?: (data: Task[]) => void,\n  onError?: (error: unknown) => void\n): UseQueryResult<Task[], unknown> => {\n  return useQuery<Task[], unknown>({\n    queryKey: ['tasks'],\n    queryFn: fetchTasks,\n    onSuccess,\n    onError,\n  })\n}\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEA,MAAM,aAAa;IACjB,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC;IACjC,MAAM,YAAY,yHAAA,CAAA,mBAAgB,CAAC,KAAK,CAAC,SAAS,IAAI;IACtD,OAAO;AACT;AAEO,MAAM,eAAe,CAC1B,WACA;IAEA,OAAO,CAAA,GAAA,2KAAA,CAAA,WAAQ,AAAD,EAAmB;QAC/B,UAAU;YAAC;SAAQ;QACnB,SAAS;QACT;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 160, "column": 0}, "map": {"version":3,"sources":["file:///home/usra/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee/hooks/useAddTaskData.ts"],"sourcesContent":["import { useMutation, useQueryClient } from '@tanstack/react-query'\nimport axios, { AxiosResponse } from 'axios'\nimport type { Task } from '../schemas/task.schema'\n\n// Type d'une t√¢che envoy√©e sans id (g√©n√©r√© automatiquement c√¥t√© serveur)\ninterface NewTask {\n  title: string\n  completed: boolean\n}\n\n// T√¢che compl√®te avec id retourn√©e par le serveur\n// interface Task extends NewTask {\n//   id: string\n// }\n\nconst addTask = (task: NewTask): Promise<AxiosResponse<Task>> => {\n  return axios.post<Task>('http://localhost:4000/tasks', task)\n}\n\nexport const useAddTaskData = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<AxiosResponse<Task>, unknown, NewTask>({\n    mutationFn: addTask,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\n    }\n  })\n}\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;;;AASA,kDAAkD;AAClD,mCAAmC;AACnC,eAAe;AACf,IAAI;AAEJ,MAAM,UAAU,CAAC;IACf,OAAO,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAO,+BAA+B;AACzD;AAEO,MAAM,iBAAiB;IAC5B,MAAM,cAAc,CAAA,GAAA,sLAAA,CAAA,iBAAc,AAAD;IAEjC,OAAO,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EAAyC;QACxD,YAAY;QACZ,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;QACtD;IACF;AACF","debugId":null}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/usra/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee/hooks/useDeleteTask.ts"],"sourcesContent":["import { useMutation, useQueryClient } from '@tanstack/react-query'\nimport axios, { AxiosResponse } from 'axios'\n\nconst deleteTask = (id: string): Promise<AxiosResponse<void>> => {\n  return axios.delete(`http://localhost:4000/tasks/${id}`)\n}\n\nexport const useDeleteTask = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<AxiosResponse<void>, unknown, string>({\n    mutationFn: deleteTask,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\n    }\n  })\n}\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;;;AAEA,MAAM,aAAa,CAAC;IAClB,OAAO,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC,CAAC,4BAA4B,EAAE,IAAI;AACzD;AAEO,MAAM,gBAAgB;IAC3B,MAAM,cAAc,CAAA,GAAA,sLAAA,CAAA,iBAAc,AAAD;IAEjC,OAAO,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EAAwC;QACvD,YAAY;QACZ,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;QACtD;IACF;AACF","debugId":null}},
    {"offset": {"line": 224, "column": 0}, "map": {"version":3,"sources":["file:///home/usra/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee/hooks/useUpdateTaskCompleted.ts"],"sourcesContent":["\nimport { useMutation, useQueryClient } from '@tanstack/react-query'\nimport axios, { AxiosResponse } from 'axios'\nimport type { Task } from '../schemas/task.schema'\n\n// D√©finition du payload attendu pour mettre √† jour une t√¢che\ninterface UpdateTaskPayload {\n  id: string\n  completed: boolean\n}\n\n// Optionnel : r√©ponse attendue du serveur, ici la t√¢che mise √† jour\n// interface Task {\n//   id: string\n//   title: string\n//   completed: boolean\n// }\n\nconst updateCompleted = ({ id, completed }: UpdateTaskPayload): Promise<AxiosResponse<Task>> => {\n  return axios.patch<Task>(`http://localhost:4000/tasks/${id}`, { completed })\n}\n\nexport const useUpdateTaskCompleted = () => {\n  const queryClient = useQueryClient()\n\n  return useMutation<AxiosResponse<Task>, unknown, UpdateTaskPayload>({\n    mutationFn: updateCompleted,\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['tasks'] })\n    }\n  })\n}\n"],"names":[],"mappings":";;;AACA;AAAA;AACA;;;AASA,oEAAoE;AACpE,mBAAmB;AACnB,eAAe;AACf,kBAAkB;AAClB,uBAAuB;AACvB,IAAI;AAEJ,MAAM,kBAAkB,CAAC,EAAE,EAAE,EAAE,SAAS,EAAqB;IAC3D,OAAO,qIAAA,CAAA,UAAK,CAAC,KAAK,CAAO,CAAC,4BAA4B,EAAE,IAAI,EAAE;QAAE;IAAU;AAC5E;AAEO,MAAM,yBAAyB;IACpC,MAAM,cAAc,CAAA,GAAA,sLAAA,CAAA,iBAAc,AAAD;IAEjC,OAAO,CAAA,GAAA,8KAAA,CAAA,cAAW,AAAD,EAAmD;QAClE,YAAY;QACZ,WAAW;YACT,YAAY,iBAAiB,CAAC;gBAAE,UAAU;oBAAC;iBAAQ;YAAC;QACtD;IACF;AACF","debugId":null}},
    {"offset": {"line": 262, "column": 0}, "map": {"version":3,"sources":["file:///home/usra/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee/components/ThemeToggle.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\n\nexport default function ThemeToggle() {\n  const [isDark, setIsDark] = useState(false)\n\n  useEffect(() => {\n    const savedTheme = localStorage.getItem('theme')\n    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches\n\n    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {\n      document.documentElement.classList.add('dark')\n      setIsDark(true)\n    } else {\n      document.documentElement.classList.remove('dark')\n      setIsDark(false)\n    }\n  }, [])\n\n  const toggleTheme = () => {\n    const html = document.documentElement\n    const newTheme = isDark ? 'light' : 'dark'\n\n    html.classList.toggle('dark', newTheme === 'dark')\n    localStorage.setItem('theme', newTheme)\n    setIsDark(!isDark)\n  }\n\n  return (\n    <button\n      onClick={toggleTheme}\n      className=\"absolute top-4 right-4 bg-gray-300 dark:bg-gray-700 text-black dark:text-white px-4 py-2 rounded shadow\"\n    >\n      {isDark ? '‚òÄÔ∏è Light' : 'üåô Dark'}\n    </button>\n  )\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;QAE7E,IAAI,eAAe,UAAW,CAAC,cAAc,aAAc;YACzD,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,UAAU;QACZ,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,UAAU;QACZ;IACF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,OAAO,SAAS,eAAe;QACrC,MAAM,WAAW,SAAS,UAAU;QAEpC,KAAK,SAAS,CAAC,MAAM,CAAC,QAAQ,aAAa;QAC3C,aAAa,OAAO,CAAC,SAAS;QAC9B,UAAU,CAAC;IACb;IAEA,qBACE,8OAAC;QACC,SAAS;QACT,WAAU;kBAET,SAAS,aAAa;;;;;;AAG7B","debugId":null}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///home/usra/eeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\nimport { useTasksData } from '../hooks/useTasksData'\nimport { useAddTaskData } from '../hooks/useAddTaskData'\nimport { useDeleteTask } from '../hooks/useDeleteTask'\nimport { useUpdateTaskCompleted } from '../hooks/useUpdateTaskCompleted'\nimport './globals.css'\nimport type { Task } from '../schemas/task.schema'\nimport ThemeToggle from '@/components/ThemeToggle'; // Importez le bouton\n\nexport default function Page() {\n  const [title, setTitle] = useState<string>('')\n  const [searchTerm, setSearchTerm] = useState<string>('')\n\n  const { mutate: addTask } = useAddTaskData()\n  const { mutate: deleteTask } = useDeleteTask()\n  const { mutate: updateCompleted } = useUpdateTaskCompleted()\n\n  const { isLoading, data, isError, error, refetch } = useTasksData(\n    () => console.log('success'),\n    (err: unknown) => console.log(err)\n  )\n  const tasks: Task[] = data ?? []\n\n\n  const handleAddTaskClick = () => {\n    if (!title.trim()) return\n\n    const maxId = tasks?.reduce((max: number, task: Task) => Math.max(max, Number(task.id)), 0) || 0\n    const newId = (maxId + 1).toString()\n\n    const newTask: Task = { id: newId, title, completed: false }\n    addTask(newTask)\n    setTitle('')\n  }\n\n  const handleDeleteTask = (id: string) => {\n    deleteTask(id)\n  }\n\n  const handleToggleCompleted = (id: string, currentCompleted: boolean) => {\n    updateCompleted({ id, completed: !currentCompleted })\n  }\n\n  if (isLoading) return <h2>Loading...</h2>\n  if (isError) return <h2>{(error as Error).message}</h2>\n\n  return (\n    <main className=\"flex justify-center items-center min-h-screen bg-gradient-to-br from-[#0891B2] via-[#B5EEF0] to-[#5EEAD4] p-6   dark:from-gray-800 dark:via-gray-900 dark:to-black \n  p-6 transition-colors duration-500\">\n         <ThemeToggle />\n\n      <section className=\"w-[450px] max-h-[80vh] bg-white rounded-xl shadow-[0_10px_80px_rgba(14,116,144,0.62),0_10px_10px_rgba(14,116,144,0.13)] overflow-hidden flex flex-col dark:bg-gray-800\">\n        \n        <header className=\"px-6 pt-6 pb-4 border-b border-gray-300\">\n          <h2 className=\"text-3xl  dark:text-white font-extrabold mb-1 text-center drop-shadow-md text-black\">\n            ToDo List \n            \n          </h2>\n          <p className=\"text-black  dark:text-white opacity-70 text-center\">\n            {tasks ? `${tasks.length} Tasks` : '0 Tasks'}\n          </p>\n  \n          {/* Input + buttons */}\n          <div className=\"mt-6 dark:text-white flex flex-col md:flex-row gap-4\">\n        <input\n          type=\"text\"\n          value={title}\n          onChange={e => setTitle(e.target.value)}\n          className=\"flex-1 min-w-0 bg-transparent border-2 dark:text-white dark:border-white border-black rounded-md px-4 py-2 text-black placeholder-black dark:placeholder-white placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-black\"\n          placeholder=\"Add a new Task...\"\n        />\n        <button\n          onClick={handleAddTaskClick}\n          className=\"bg-[#155E75] rounded-full px-6 py-2 flex items-center justify-center gap-2 text-white font-semibold hover:brightness-110 transition\"\n          aria-label=\"Add task\"\n        >\n          <p>Add</p>\n          <i className=\"fas fa-arrow-right\"></i>\n        </button>\n      </div>\n        </header>\n  \n        {/* Task List */}\n        <section className=\"flex-1 overflow-y-auto px-4 py-2 space-y-2 scrollbar-thin scrollbar-thumb-gray-900 scrollbar-track-gray-200\">\n          {tasks?.length === 0 && (\n            <p className=\"text-center dark:text-white text-gray-400 mt-10\">No tasks available</p>\n          )}\n          {tasks\n            ?.filter(task =>\n              task.title.toLowerCase().includes(searchTerm.toLowerCase())\n            )\n            .map(task => (\n              <div\n                key={task.id}\n                className={`flex items-center justify-between p-4 rounded-md border-b dark:text-white border-gray-200 cursor-default\n                  ${task.completed ? 'bg-[#99F6E440]' : 'hover:bg-[#99F6E420]'} transition`}\n              >\n                <label className=\"flex items-center gap-3 cursor-pointer select-none text-black dark:text-white flex-1 min-w-0\">\n\n                  <input\n                    type=\"checkbox\"\n                    checked={task.completed}\n                    onChange={() => handleToggleCompleted(task.id, task.completed)}\n                    className=\"w-5 h-5 rounded border-2 border-black dark:border-white checked:bg-[#0D9488] checked:border-[#0F766E] focus:ring-0\"\n                  />\n               <span\n                className={`text-lg truncate whitespace-nowrap overflow-hidden text-ellipsis flex-1 max-w-full ${\n                  task.completed ? 'line-through opacity-50' : ''\n                }`}\n                title={task.title}\n              >\n                {task.title || <em className=\"text-gray-300\">Untitled task</em>}\n              </span>\n\n                </label>\n                <button\n                  onClick={() => handleDeleteTask(task.id)}\n                  className=\"text-red-600 hover:text-red-800 font-bold transition\"\n                  aria-label={`Delete task ${task.title}`}\n                >\n                  &times;\n                </button>\n               \n              </div>\n            ))}\n        </section>\n  \n        {/* Search Input */}\n        <footer className=\"px-6 py-4 border-t border-gray-300\">\n          <input\n            type=\"text\"\n            value={searchTerm}\n            onChange={e => setSearchTerm(e.target.value)}\n            placeholder=\"Search tasks...\"\n            className=\"w-full bg-transparent border-2 border-black  dark:placeholder-white  dark:border-white dark:text-white rounded-md px-4 py-2 text-black placeholder-black placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-black\"\n          />\n        </footer>\n      </section>\n      {/* <ThemeToggle /> Ajoutez le bouton ici, par exemple en bas √† droite */}\n\n    </main>\n  )\n  \n}\n\n\n"],"names":[],"mappings":"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","debugId":null}}]
}